---
author: Xuanwo <github@xuanwo.io>
status: 完成
updated_at: 2020-01-03
---

# 建议：在对象结构中添加 ID

## 二. 背景

PR [服务：添加Dropbox 基本支持](https://github.com/Xuanwo/storage/pull/53) 会引起一个很严重的问题：我们是否有一个 ID 元数据？

`结构值` 和 `元数据` 之间的差异是：

- 需要 `结构中的所有值` ，调用者可以安全地使用它们。
- `元数据` 中的所有值都是可选的，调用者需要在使用前检查它们。

首先，所有存储服务显然都有一个 ID 用于对象：

- 对于本地文件系统： `ID` 可能是通向root的整个路径。
- 对于对象存储： `ID` 可能是整个密钥。
- 对于Dropbox 类似的 SaaS: `ID` 可以是他们的ID。

然后，用户需要访问ID，原因是：

- 区分具有相同名称的文件(some SaaS 允许同一个文件夹中的相同名称文件)
- 较高的应用程序需要ID的商业逻辑。

## 建议

因此，我提议作如下修改：

- 在 `对象` 结构中添加 `ID 字符串`
- 确保填写的所有服务 `对象.ID`

## 理由

无。

## 兼容性

没有中断的更改。

## 二． 执行情况

作为建议执行。