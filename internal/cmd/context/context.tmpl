// Code generated by go generate via internal/cmd/context; DO NOT EDIT.
package {{ .Name }}

import (
    "context"
    "io"

    "github.com/opentracing/opentracing-go"

    "github.com/Xuanwo/storage"
    "github.com/Xuanwo/storage/types"
    "github.com/Xuanwo/storage/types/metadata"
    ps "github.com/Xuanwo/storage/types/pairs"
)

var _ storage.Storager


{{- range $name, $data := .Data }}
{{- range $k, $v := $data }}
// {{ $v.Parent }}WithContext adds context support for {{ $v.Parent }}.
func ({{ $v.Receiver }}) {{ $v.Parent }}WithContext({{ $v.Params }}) ( {{ $v.Returns }}) {
    span, ctx := opentracing.StartSpanFromContext(ctx, "github.com/Xuanwo/storage/services/{{ $.Name }}.{{ $name }}.{{ $v.Parent }}")
    defer span.Finish()

    pairs = append(pairs, ps.WithContext(ctx))
    return s.{{ $v.Parent }}({{ $v.Caller }})
}
{{- end }}
{{- end }}