{{- range $name, $data := .Data }}
{{- range $k, $v := $data }}
{{ $fn := $v.Funcs }}
{{- if $fn }}
{{- if $fn.HasContext }}
// {{ $fn.Parent }}WithContext adds context support for {{ $fn.Parent }}.
func ({{ $fn.Receiver }}) {{ $fn.Parent }}WithContext({{ $fn.Params }}) ( {{ $fn.Returns }}) {
    span, ctx := opentracing.StartSpanFromContext(ctx, "github.com/Xuanwo/storage/services/{{ $.Name }}.{{ $name }}.{{ $fn.Parent }}")
    defer span.Finish()

    pairs = append(pairs, ps.WithContext(ctx))
    return s.{{ $fn.Parent }}({{ $fn.Caller }})
}
{{- end }}
{{- end }}
{{- end }}
{{- end }}